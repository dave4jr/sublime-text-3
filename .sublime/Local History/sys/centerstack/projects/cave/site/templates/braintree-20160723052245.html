<!--======================
 *  Author:		Dave Luke Jr
 *  Company:	CenterStack.io
 *  Description:	charge.html
 *======================-->
{% extends "base.html" %}
{% load widget_tweaks %}
{% load humanize %}
{% load mathfilters %}
{% load staticfiles %}
{% block content_site %}

<!--	Charge
========================================= -->
<div class="row">
	<div class="col-md-12">
		<div class="portlet light portlet-fit ">
			<div class="portlet-title">
				<div class="caption">
					<i class="pe-7s-users"> </i>
					<span class="caption-subject base-font"> Payment Processing </span>
				</div>
			</div>
			<div class="portlet-body">
				<div class="pi-row">
					<div class="pi-col-sm-6">
						<form action="/" id="payment-form" method="post">
							{% csrf_token %}
							<div class="pi-row pi-grid-small-margins">
								<div class="pi-col-sm-12">
									<label>Card Number</label>
									<div class="form-group">
										<div class="pi-input-with-icon">
											<div class="pi-input-icon">
												<i class="pe-7s-credit"> </i>
											</div>
											<div id="card-number"></div>
										</div>
									</div>
								</div>

								<!--	Expiration Date
								========================================= -->
								<div class="pi-col-sm-4">
									<label>Expiration Date</label>
									<div class="form-group">
										<div class="pi-input-with-icon">
											<div class="pi-input-icon">
												<i class="pe-7s-date"> </i>
											</div>
											<div id="expiration-date"></div>
										</div>
									</div>
								</div>

								<!--	Security Code
								========================================= -->
								<div class="pi-col-sm-4">
									<label>CVV</label>
									<div class="form-group">
										<div class="pi-input-with-icon">
											<div class="pi-input-icon">
												<i class="pe-7s-key"> </i>
											</div>
											<div id="cvv"></div>
										</div>
									</div>
								</div>
								
								<!--	Zip Code
								========================================= -->
								<div class="pi-col-sm-4">
									<label>Zip Code</label>
									<div class="form-group">
										<div class="pi-input-with-icon">
											<div class="pi-input-icon">
												<i class="pe-7s-map-2"> </i>
											</div>
											<div id="postal-code"></div>
										</div>
									</div>
								</div>
								<input id="btn-pay" class="btn base" type="submit" value="Pay" />
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>


<!--	Javascript
========================================= -->
<script>
	var clientToken = "eyJ2ZXJzaW9uIjoyLCJhdXRob3JpemF0aW9uRmluZ2VycHJpbnQiOiJkMDk2MDk3ZjUxOWE0OTE5NzA5Njk5YmVlYzJjNWEwOTIxMDBmZmVhNjM3MDM5MjM3ODRlODBmN2FhMWE4ZWZlfGNyZWF0ZWRfYXQ9MjAxNi0wNy0xNlQwNjo0NDoxNS43MTg1MTM0NjErMDAwMFx1MDAyNm1lcmNoYW50X2lkPTM0OHBrOWNnZjNiZ3l3MmJcdTAwMjZwdWJsaWNfa2V5PTJuMjQ3ZHY4OWJxOXZtcHIiLCJjb25maWdVcmwiOiJodHRwczovL2FwaS5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tOjQ0My9tZXJjaGFudHMvMzQ4cGs5Y2dmM2JneXcyYi9jbGllbnRfYXBpL3YxL2NvbmZpZ3VyYXRpb24iLCJjaGFsbGVuZ2VzIjpbXSwiZW52aXJvbm1lbnQiOiJzYW5kYm94IiwiY2xpZW50QXBpVXJsIjoiaHR0cHM6Ly9hcGkuc2FuZGJveC5icmFpbnRyZWVnYXRld2F5LmNvbTo0NDMvbWVyY2hhbnRzLzM0OHBrOWNnZjNiZ3l3MmIvY2xpZW50X2FwaSIsImFzc2V0c1VybCI6Imh0dHBzOi8vYXNzZXRzLmJyYWludHJlZWdhdGV3YXkuY29tIiwiYXV0aFVybCI6Imh0dHBzOi8vYXV0aC52ZW5tby5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tIiwiYW5hbHl0aWNzIjp7InVybCI6Imh0dHBzOi8vY2xpZW50LWFuYWx5dGljcy5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tLzM0OHBrOWNnZjNiZ3l3MmIifSwidGhyZWVEU2VjdXJlRW5hYmxlZCI6dHJ1ZSwicGF5cGFsRW5hYmxlZCI6dHJ1ZSwicGF5cGFsIjp7ImRpc3BsYXlOYW1lIjoiQWNtZSBXaWRnZXRzLCBMdGQuIChTYW5kYm94KSIsImNsaWVudElkIjpudWxsLCJwcml2YWN5VXJsIjoiaHR0cDovL2V4YW1wbGUuY29tL3BwIiwidXNlckFncmVlbWVudFVybCI6Imh0dHA6Ly9leGFtcGxlLmNvbS90b3MiLCJiYXNlVXJsIjoiaHR0cHM6Ly9hc3NldHMuYnJhaW50cmVlZ2F0ZXdheS5jb20iLCJhc3NldHNVcmwiOiJodHRwczovL2NoZWNrb3V0LnBheXBhbC5jb20iLCJkaXJlY3RCYXNlVXJsIjpudWxsLCJhbGxvd0h0dHAiOnRydWUsImVudmlyb25tZW50Tm9OZXR3b3JrIjp0cnVlLCJlbnZpcm9ubWVudCI6Im9mZmxpbmUiLCJ1bnZldHRlZE1lcmNoYW50IjpmYWxzZSwiYnJhaW50cmVlQ2xpZW50SWQiOiJtYXN0ZXJjbGllbnQzIiwiYmlsbGluZ0FncmVlbWVudHNFbmFibGVkIjp0cnVlLCJtZXJjaGFudEFjY291bnRJZCI6ImFjbWV3aWRnZXRzbHRkc2FuZGJveCIsImN1cnJlbmN5SXNvQ29kZSI6IlVTRCJ9LCJjb2luYmFzZUVuYWJsZWQiOmZhbHNlLCJtZXJjaGFudElkIjoiMzQ4cGs5Y2dmM2JneXcyYiIsInZlbm1vIjoib2ZmIn0=";
	braintree.setup(clientToken, "custom", {
		id: "payment-form",
		hostedFields: {
			number: { selector: "#card-number", placeholder: "Enter Card Number" },
			expirationDate: { selector: "#expiration-date", placeholder: "mm/yy" },
			cvv: { selector: "#cvv", placeholder: "CVV" },
			postalCode: { selector: "#postal-code", placeholder: "Billing Zip" },
			styles: {
				'input': {
					'font-family': 'Lato',
					'font-size': '13px',
					'font-weight': '300',
					'color': '#777'
				},
				'.valid': { 'color': '#2AB4C0' },
				'.invalid': { 'color': '#D05454' },
			}
		}
	});
</script>

<!--	Card Swiper Test
========================================= -->
<div class="pi-row">
	<input id="test" class="form-control"></input>
</div>



<script>
	$(function() {
		var $iframe = $('#braintree-hosted-field-number');
		$iframe.ready(function() {
		    	var iframe_html = $iframe.contents();
		    	iframe_html.val( function( index, val ) {
				return val + "sup dawg";
			});
		    	
		});
		// $( "iframe #credit-card-number" ).val( function( index, val ) {
		//     return val + "sup dawg";
		// });	
	});
</script>









{% endblock %}