<!--==========================
 *  Author:		Dave Luke Jr
 *  Company:	CenterStack.io
 *  Description:	index.html
 *==========================-->
{% extends "base.html" %}
{% load widget_tweaks %}
{% load humanize %}
{% load mathfilters %}
{% load staticfiles %}
{% load customtags %}
{% block content %}



<!--	Buy Single
========================================= -->
<section id="page-body" class="buy-single p-t-0 m-t-60">
	<div class="column-section boxed-sticky clearfix">
		<div id="buy-single-left" class="column one-third" style="height: 100% !important;">
		
			<!--	Image
			========================================= -->
			<div class="owl-carousel" data-items="1" data-loop="true" data-nav="true" data-autoPlay="true" data-pagination="false" data-dots="false" data-autoHeight="false">
				{% for img in property.img %}
					<div>
						<a data-rel="lightcase:gallery1" href="{{ img }}">
							<img src="{{ img }}">
						</a>
					</div>
				{% endfor %}
			</div>
			
		
			
			<!--	Address & Price
			========================================= -->
			<div id="buy-single-left-details">
				<div class="row">
					<div class="col-sm-9">
						<h4>{% include "include/address.html" with arg="street" %}</h4>
					</div>
					<div class="col-sm-3" style="border-radius: 10px 0px 0px 10px;">
						<h5 class="text-center"  style="border-radius: 40px 0px 0px 40px;">${{ property.listingprice|floatformat:"0"|intcomma }}</h5>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12">
						<h4 class="subtitle-2 colored fs-14 p-l-20 fw-300 p-tb-0">{% include "include/address.html" with arg="city" %}</h4>
					</div>
					<div id="buy-single-details" class="col-sm-12">
						<p class="m-t-5">{{ property.marketingremarks|boxed_letter:"#EF936D" }}</p>
					</div>
				</div>
			</div>
		</div>
		
		
		<!--	Icons
		========================================= -->
		<div id="buy-single-right" class="column two-third white-bg">
			<div id="buy-single-icons" class="column-section clearfix p-t-40">
				<div class="column one-fifth m-l-40">
					<span class="fontello-sqft"></span>
					<h5 class="subtitle-2">Square Feet</h5>
					<h3 class="counter-value"><strong>{{ property.squarefootage|floatformat:"0"|intcomma }}</strong></h3>
				</div>
				<div class="column one-fifth">
					<span class="fontello-beds"></span>
					<h5 class="subtitle-2">Bedrooms</h5>
					<h3 class="counter-value"><strong>{{ property.bedrooms }}</strong></h3>
				</div>
				<div class="column one-fifth">
					<span class="fontello-baths"></span>
					<h5 class="subtitle-2">Bathrooms</h5>
					<h3 class="counter-value"><strong>{{ property.bathrooms }}</strong></h3>
				</div>
				<div class="column one-fifth">
					<span class="fontello-map"></span>
					<h5 class="subtitle-2">Lot Size</h5>
					<h3 class="counter-value"><strong>{{ property.acres }}</strong></h3>
				</div>
				<div class="column one-fifth last-col">
					<span class="fontello-year-built"></span>
					<h5 class="subtitle-2">Year Built</h5>
					<h3 class="counter-value"><strong>{{ property.yearbuilt }}</strong></h3>
				</div>
			</div>
			<div class="spacer-small"></div>
			
			<!--	4 Quadrants
			========================================= -->
			<div id="quadrants" class="column-section clearfix">
				<div class="column one-half tallest m-l-0 p-t-0 p-r-0 p-b-0">
					<div class="col-content m-l-20" style="margin-top: 0px;">
						<div class="quadrant-1">
							<h4><strong>Overview</strong></h4>
							<ul>
								<li>
									<p>Style: </p>
									<span>{{ property.style }}</span>
								</li>
								<li>
									<p>Subtype: </p>
									<span>{{ property.subtype1 }}</span>
								</li>
								<li>
									<p>Levels: </p>
									<span>{{ property.resilevl }}</span>
								</li>
								<li>
									<p>Status: </p>
									<span>{{ property.status }}</span>
								</li>
								<li>
									<p>Days On Market: </p>
									<span>{{ property.dom }}</span>
								</li>
							</ul>
						</div>
						<div class="spacer-mini"></div>
						<div class="quadrant-2">
							<h4><strong>Community</strong></h4>
							<ul>
								<li>
									<p>Subdivision: </p>
									<span>{{ property.bedrooms }}</span>
								</li>
								<li>
									<p>Section: </p>
									<span>{{ property.section }}</span>
								</li>
								<li>
									<p>Elementary School: </p>
									<span>{{ property.resielms }}</span>
								</li>
								<li>
									<p>Jr. High School: </p>
									<span>{{ property.resijrhi }}</span>
								</li>
								<li>
									<p>High School: </p>
									<span>{{ property.resisrhi }}</span>
								</li>
								<li>
									<p>HOA: </p>
									{% if property.resihoa == "No" %}
										<span>{{ property.resihoa }}</span>
									{% else %}
										<span>{{ property.resihoad }}, {{ property.resihoap }}</span>
									{% endif %}
								</li>
								<li>
									<p>CC&Rs: </p>
									<span>{{ property.resiccr }}</span>
								</li>
								<li>
									<p>Amenities: </p>
									<span class="hover-ellipses">{{ property.resicomm|comma_space }}</span>
								</li>
								<li>
									<p>Taxes: </p>
									<span>{{ property.resitaxs }}</span>
								</li>
							</ul>
						</div>
					</div>
				</div>
				<div class="column one-half last-col m-l-0 p-t-0 p-r-0 p-b-0">
					<div class="col-content" style="margin-top: 0px;">
						<div class="quadrant-3">
							<h4><strong>Interior</strong></h4>
							<ul>
								<li>
									<p>Rooms: </p>
									<span class="hover-ellipses">{{ property.resiroom|comma_space }}</span>
								</li>
								<li>
									<p>Interior: </p>
									<span class="hover-ellipses">{{ property.resiinte|comma_space }}</span>
								</li>
								<li>
									<p>Fireplace: </p>
									<span class="hover-ellipses">{{ property.resifire|comma_space }}</span>
								</li>
								<li>
									<p>Floors: </p>
									<span class="hover-ellipses">{{ property.resiflor|comma_space }}</span>
								</li>
								<li>
									<p>Heat / Cool: </p>
									<span class="hover-ellipses">{{ property.resihtco|comma_space }}</span>
								</li>
							</ul>
						</div>
						<div class="spacer-mini"></div>
						<div class="quadrant-4">
							<h4><strong>Exterior</strong></h4>
							<ul>
								<li>
									<p>New Construction: </p>
									<span>{{ property.resinewc }}</span>
								</li>
								<li>
									<p>Features: </p>
									<span class="hover-ellipses">{{ property.resiexte|comma_space }}</span>
								</li>
								<li>
									<p>Parking: </p>
									<span class="hover-ellipses">{{ property.resipark|comma_space }}</span>
								</li>
								<li>
									<p>Additional Buildings: </p>
									<span class="hover-ellipses">{{ property.resiaddi|comma_space }}</span>
								</li>
								<li>
									<p>Construction: </p>
									<span class="hover-ellipses">{{ property.resicons|comma_space }}</span>
								</li>
								<li>
									<p>Water: </p>
									<span>{{ property.resiwtrd }}</span>
								</li>
								<li>
									<p>Sewer / Septic: </p>
									<span>{{ property.resisewr }}</span>
								</li>
								<li>
									<p>Irrigation: </p>
									<span>{{ property.resiirri }}, {{ property.resiirra }}, {{ property.resiirrd }}</span>
								</li>
								<li>
									<p>View: </p>
									<span class="hover-ellipses">{{ property.view|comma_space }}</span>
								</li>
							</ul>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
</section>



<!--	Setting Height Of Left Side
========================================= -->
<script>
	$(function() {
		var h = $("#buy-single-right").outerHeight();
		$("#buy-single-left").outerHeight(h+5);
	});
</script>



<!--	Setting Hover Effects On Ellipsis
========================================= -->
<script>
	$(function() {
		
		function isEllipsisActive($jQueryObject) {
			return ($jQueryObject.outerWidth() < $jQueryObject[0].scrollWidth);
		}
		
		$(".hover-ellipses").hover(function() {
			var w_0 = $(this).css("width");
			var pos_0 = $(this).offset();

			
			var items = $(this).text().split(", ");
			console.log(items.length);
			var html = "";
			$.each(items, function(index, val) {
				console.log(index);
				if (html === ""){
					html = '- ' + val + '<br>';
				} else if (index === items.length - 1) {
					html += '- ' + val;
				} else {
					html += '- ' + val + '<br>';
				}
			});
			$(this).html(html);
		
			$(this).css({
				"position": "fixed",
				"width": w_0,
				"left": pos_0.left,
				"top": pos_0.top - 5,
				"text-align": "left",
			});
		}, function() {
			 $(this).css({
			 	"position": "relative",
			 	"left": "0px",
			 	"top": "0px",
			 	"text-align": "right",
			 });
			 var s = $(this).html().replace(/- /g,"").replace(/<br>/g, ", ");
			 console.log(s)
			 $(this).text(s)
		});
	});
</script>







{% endblock %}

{% block footer %}{% endblock %}
